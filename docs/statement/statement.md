# Project 2: Ball Game

经过一个学期的学习和练习，想必大家的编程能力都有了很大的提升。
但是到目前为止，之前所做的所有作业和 Project 1 都是大家各自独立完成的。
现在，我们将要拉开合作项目的序幕。

去年我们第一次尝试这种开放的作业形式，
设计了一款简单的[坦克大战](https://github.com/Yao-class-cpp-studio/battle_game)游戏，
并且邀请大家一起来完成它。
同学们的奇思妙想让这个游戏变得丰富多彩，也让我们看到了大家的创造力。

今年，我们将要做的是一个新的主题——**弹球游戏**。
为了让大家有更多的发挥空间，我们花费了更多的时间来设计这个项目的框架。
我们希望大家能够在这个框架的基础上，发挥自己的想象力，创造出更多的游戏元素。
当然，如果你对这个框架有更好的想法，也欢迎你来改进它。

受限于时间和精力，这个框架到发布时还有很多不完善的地方，但基本结构已经成型。

## 项目要求

我们非常理解每位同学的编程技能基础有着很大的差异，
因此我们不会要求所有同学都达到可以在这个框架上进行功能扩展的程度。
这个项目的基本目标是希望大家学习如何在一个大型项目中进行协作。
因此，对于足够到不影响你的最终课程成绩的基础分数，我们只要求大家完成一些软件工程的基本操作。
对于想要挑战更高分数的同学，我们希望你们能够在这个框架上进行功能扩展，让我们一起将这个游戏做得更加丰富多彩！

### 延迟补偿 (5 pts)

由于本项目发布时间相比计划晚了两个星期，我们将 5 分的补偿送给每位同学。

### 创建分叉 (6 pts)

进行大型项目协作，大体上需要完成以下几个步骤：

1. 明确项目目标
2. 划分项目任务
3. 完成任务
4. 整合代码
5. 测试代码
6. 修复 bug
7. 重复 3-6 直到项目完成

在这个项目中，我们将会通过学习 GitHub 的分支、合并请求等功能来完成这个过程。

项目的目标是实现一个弹球游戏，
下发的框架里已经实现了游戏场景的简单绘制功能和简单的物理引擎。
但是距离完成这个项目还需要进行**添加输入控制**、添加声音系统、添加网络系统、设计游戏模式、设计交互界面、创造新的游戏元素等等一系列繁杂的工作。

我们可以将这些工作的需求细化，并利用 GitHub 的 [issue](https://github.com/Yao-class-cpp-studio/GameX/issues) 功能来进行管理。

大家可以看到，目前已经有一些 issue 被创建了，以后还会有更多的 issue 被创建。如果你有好的想法，也可以自己创建 issue。

为了项目的安全，项目的主仓库通常是受保护的，只有仓库的管理员可以直接向主仓库提交代码。
因此，我们需要先将主仓库的代码复制到自己的仓库中，这个过程叫做**分叉**（fork）。

在 GitHub 上，每个仓库都有一个 fork 按钮，点击这个按钮就可以将主仓库的代码复制到自己的仓库中。你可以在页面的右上角找到这个按钮。

点击这个按钮后，你需要对你的分叉仓库命名并进行一些设置，一般情况下直接全部采取默认设置并确认即可。在确认创建分叉后，你就可以在你的仓库中看到这个项目的代码了。

你是不是发现了，你的仓库的地址和主仓库的地址是不一样的。这就是分叉的作用。
你拥有分叉仓库的全部权限，你可以在你自己的仓库中进行任何操作，而不会影响到主仓库。

**任务目标：**成功地创建分叉即完成本部分的任务。

### 实现输入控制 (6 pts)

在这个项目中，我们需要实现输入控制，让玩家可以通过键盘来控制游戏中的元素。
下发的框架里已经实现了一个简单的输入控制系统，只是游戏中的元素还没有正确地对输入做出反应。
你需要找到游戏单位“小球”所对应的源文件：[src/GameBall/logic/units/regular_ball.cpp](../../src/GameBall/logic/units/regular_ball.cpp)，
并在其中实现对输入的正确响应。

具体的，你需要改写上述文件第 43 行开始的 `void RegularBall::UpdateTick()` 函数，使得小球能够正确地对输入做出反应。

在正确地实现输入控制后，你可以在游戏中看到小球会对输入做出反应了。这时你应该通过 git 将你的代码提交到你的仓库中。

**任务目标：**成功地实现输入控制并提交至分叉仓库即完成本部分的任务。

### 创建合并请求 (6 pts)

在完成了输入控制的实现后，你需要将你的代码合并到主仓库中。

在 GitHub 上，每个仓库都有一个 [Pull request](https://github.com/Yao-class-cpp-studio/GameX/pulls) 子页面。
在这个子页面里有一个绿色的 [New pull request](https://github.com/Yao-class-cpp-studio/GameX/compare) 按钮。
点击这个按钮会进入分支比较界面。如果你没有看到你的分支，请点击页面中的 `compare across forks`。并选择你的分叉仓库和你的分支。

在创建合并请求时，你需要选择主仓库和主分支。
这个项目中，主仓库是 `Yao-class-cpp-studio/GameX`， 主分支是 `main`。请不要选择错误的仓库和分支。

在选择了正确的仓库和分支后，你就可以创建合并请求了，点击绿色的 `Create pull request` 按钮即可。

此时，你应该可以看到一个新的页面，这个页面显示了你的合并请求的信息。
你需要在这个页面中填写一些信息，包括你的合并请求的标题和描述。

一般来说，标题应该简明扼要地描述你的合并请求的内容，描述应该详细地描述你的合并请求的内容。
项目的管理员通常会根据你的描述来决定是否接受你的合并请求。

标题通常遵守以下格式：

```
[<type>] <description>
```

其中 `<type>` 是合并请求的类型，`<description>` 是合并请求的描述。

`<type>` 通常有以下几种：

- `feat`: 新功能
- `fix`: 修复 bug
- `docs`: 文档
- `style`: 格式
- `refactor`: 重构
- `test`: 测试
- `chore`: 构建过程或辅助工具的变动

`<description>` 通常是对合并请求的简要描述。

例如，如果你的合并请求是为了修复一个 bug，那么你的标题可能是 `[fix] fix a bug`。

这里我们要求大家 **必须** 使用英文来填写标题和描述。
按照上述格式填写标题和描述后，你可以再次点击绿色的 `Create pull request` 按钮来创建合并请求。

我们的框架中包含了测试代码，你可以在创建合并请求后看到测试结果。

**任务目标：**成功地创建合并请求并通过测试即完成本部分的任务。

### 关闭 issue (5 pts)

在创建合并请求时，你可以在描述中使用 Close 关键字来关闭 issue。

例如，如果你的合并请求修复了 issue #1，那么你可以在描述中写上 `Close #1` 来关联这个 issue。
所有和关闭 issue 相关的关键词都可以在 [GitHub 文档](https://docs.github.com/en/github/managing-your-work-on-github/closing-issues-using-keywords)中找到。

当一个合并请求被接受后，所有和这个合并请求相关的 issue 都会被自动关闭。

我们已经针对控制相应创建了一个 issue，你可以在 [这里](https://github.com/Yao-class-cpp-studio/GameX/issues/4) 找到它，它的编号是 4。

你需要修改你的合并请求的描述，或者添加一条新的评论，包含 `Close #4`，来关联这个 issue。

**任务目标：**成功地关联 issue 即完成本部分的任务。

### 自由发挥 (2 pts, For A+)

在完成了上述任务后，你已经掌握了 GitHub 的基本使用方法，可以开始自由发挥了。

最后的这 2 分，我们不会给出统一的任务，而是希望你能够自己去发挥你的想象力，为这个游戏添加更多的功能。
你可以去完成其他同学提出的 issue，也可以自己创建 issue。

如果你有好的想法，也可以直接去实现它，然后创建合并请求。
我们会像真正的开源项目一样，对你的合并请求进行审核，如果通过审核，你的代码就会被合并到主仓库中。
你会在[贡献者页面](https://github.com/Yao-class-cpp-studio/GameX/graphs/contributors)中看到你的名字。
这是一个很酷的事情，你的代码会被很多人看到，你的名字也会被很多人看到。

其实，走到这一步的时候分数已经不重要了。
希望编程这项技能能够成为助你实现梦想的双翼，带你在计算机的世界里自由飞翔。

## 提交要求

你需要在网络学堂中提交一个文件，txt、doc、docx、pdf格式均可。
提交的内容根据你的完成情况而不同：

- 如果你完成到创建分叉，那么你需要提交你的分叉仓库的地址。
- 如果你完成到实现输入控制，那么你需要提交你的分叉仓库的地址和你的分支的名称。
- 如果你完成到创建合并请求以及关闭 issue，那么你需要提交你的合并请求的地址。
- 如果你完成了一个自由发挥的任务，那么你需要提交你自由发挥的内容，被采纳合并的合并请求的地址。

只要你完成了一个任务，你就可以只提交这个任务的内容，不需要提交之前的任务的内容。

## 后记

我们希望同学们通过这次作业体会到编程的乐趣，在实现任务目标的同时创造快乐，
最终我们会一起呈现一个完整的作品，这离不开每一位同学的贡献。
你的每一行代码都是重要的，也是有意义的。
希望多年以后，这段旅程能够成为同学们共同的美好回忆。
祝大家新年快乐！
